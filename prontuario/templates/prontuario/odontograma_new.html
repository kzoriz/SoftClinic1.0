<!DOCTYPE HTML>

{% load static %}
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Odontograph 1.0.0</title>
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
        <link rel="icon" href="favicon.ico" type="image/x-icon">
        <style>
            body {
                margin: 0;
                padding: 0;
            }
        </style>
        <script src="/static/js/js_new/odontCanvas/core/engine.js" type="text/javascript"></script>

    </head>
    <body oncontextmenu="return false;">
        <canvas id="canvas" width="648" height="420"></canvas>
        <script>
            var canvas = document.getElementById('canvas');

            var engine = new Engine();

            engine.setCanvas(canvas);

            engine.init();

            canvas.addEventListener('mousedown', function (event) {
                engine.onMouseClick(event);
            }, false);

            canvas.addEventListener('mousemove', function (event) {
                engine.onMouseMove(event);
            }, false);

            window.addEventListener('keydown', function (event) {
                engine.onButtonClick(event);
            }, false);

            engine.loadPatientData("Magdalena",
                                   "Bárður Thomsen",
                                   "1002",
                                   "hc 001",
                                   "26/02/2018",
                                   "dentist one",
                                   "Test specifications",
                                   "Test observations");


            engine.toggleObserverState(true);

            observer = function(id){

                window.alert("Clicked " + id);
            };

            engine.setObserver(observer);

        </script>
    </body>
</html>